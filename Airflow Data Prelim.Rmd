---
title: "Airflow Data"
author: "Catherine Cornella"
date: "2023-06-22"
output: html_document
---

## Preliminary "playing" with airflow data

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(dplyr)      #General Data wrangling
library(readr)      #File reading and writing
library(stringr)    #String reading
library(knitr)      #Markdown file exporting
library(tidyr)      #Data formatting
library(lubridate)  #Date-Time Wrangling
library(FITSio)     #Fits file parsing
```

## Data Import

Data Source: included text files

```{r}
source18 <- "turbopandaText/textAF_turbopanda_2022-08-18.txt"
source19 <- "turbopandaText/textAF_turbopanda_2022-08-19.txt"

source905 <- "turbopandaText/textAF_turbopanda_2022-09-05.txt"
source906 <- "turbopandaText/textAF_turbopanda_2022-09-06.txt"

#Or generate a list of files, and create a function to read each one into a list of dataframes, then bind all dataframes together for a given airflow unit.

#Actual col names
colNames <- c("floatDate", "floattime", "r0_1", "Cn2", "residual_Kolmo", 
              "r0Kalman", "L0Kalman", "residual_Kalman", "r0power", "r0expo", 
              "residual_power", "r0max", "r0min", "Cn2max", "Cn2min",
              "r0noTT(0)", "Cn2noTT", "r0noTT(1)", "residual_KolmonoTT", "imamax", 
              "npixsat", "offsets(0)", "Offsets(1)", "flagdata") 
#Create function to read the .txt's into a table. 
```

```{r}

(fileList <- list.files(path="/data/airflow/reduce/turbopanda", pattern=".txt", all.files=TRUE, full.names=TRUE, recursive=TRUE))

listOfFiles <- lapply(fileList, function(x) read.table(x, header = FALSE)) 


#Read lines from the file
data906 <- read.table(source906, col.names = colNames)

```



## Data Tidying

```{r}

```

## Data Export

``` {r}

```
